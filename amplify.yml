version: 1
applications:
  - appRoot: frontend
    frontend:
      phases:
        preBuild:
          commands:
            - npm ci
        build:
          commands:
            - npm run build
      artifacts:
        # Amplify detects Next.js and serves from .next automatically
        baseDirectory: .next
        files:
          - '**/*'
      cache:
        paths:
          - node_modules/**/*
    # Set env vars in Amplify console (Build settings â†’ Environment variables)
    # e.g. NEXT_PUBLIC_API_BASE=https://<your-backend-app-runner-url>
    